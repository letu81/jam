<%= semantic_form_for([:admin, @course], html: {class: 'form-horizontal'}) do |f| %>
    <fieldset class="inputs">
      <legend><span>添加课程</span></legend>
      <% if f.object.errors.full_messages.present? %>
          <div class="alert alert-danger" role="alert">
            <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
            <span class="sr-only">Error:</span>
            <%= f.object.errors.full_messages %>
          </div>
      <% end %>
      <div class="form-group form-group-sm">
        <label class="col-sm-2 control-label" for="service_interests">名称:</label>

        <div class="col-sm-10">
          <%= f.text_field(:name, class: 'form-control', placeholder: '请输入课程名称') %>
        </div>
      </div>
      <div class="form-group form-group-sm">
        <label class="col-sm-2 control-label" for="service_interests">类型:</label>

        <div class="col-sm-10">
          <%= f.select(:type, INTERESTS['items'].map { |item| [item['name'], item['id']] }, {selected: f.object.type, include_blank: false}) %>
        </div>
      </div>
      <div class="form-group form-group-sm">
        <label class="col-sm-2 control-label" for="service_interests">教学方式:</label>

        <div class="col-sm-10">
          <%= f.text_field(:type) %>
        </div>
      </div>
      <div class="form-group form-group-sm">
        <label class="col-sm-2 control-label" for="service_interests">教学方式:</label>

        <div class="col-sm-10">
          <%= f.text_field(:during, class: 'form-control', placeholder: '请输入课程持续时长') %>
        </div>
      </div>
      <div class="form-group form-group-sm">
        <label class="col-sm-2 control-label" for="service_interests">抵价金额:</label>

        <div class="col-sm-10">
          <%= f.text_field(:price, class: 'form-control', placeholder: '请输入优惠券优惠的金额') %>
        </div>
      </div>
      <div class="form-group form-group-sm">
        <label class="col-sm-2 control-label" for="service_interests">订单金额:</label>

        <div class="col-sm-10">
          <%= f.text_field(:proposal, class: 'form-control', placeholder: '满足订单金额才可使用该优惠券') %>
        </div>
      </div>
      <div class="form-group form-group-sm">
        <label class="col-sm-2 control-label" for="service_interests">开始日期:</label>

        <div class="col-sm-10">
          <%= f.text_field(:guarantee, id: 'datepicker1', class: 'form-control', placeholder: '请选择优惠券到开始日期') %>
        </div>
      </div>
      <div class="form-group form-group-sm">
        <label class="col-sm-2 control-label" for="service_interests">结束日期:</label>

        <div class="col-sm-10" id="datetimepicker2">
          <%= f.text_field(:intro, id: 'datepicker2', class: 'form-control', placeholder: '请选择优惠券到结束日期') %>
        </div>
      </div>
      <div class="form-group form-group-sm">
        <label class="col-sm-2 control-label" for="service_interests">启用:</label>

        <div class="col-sm-10">
          <%= f.text_field(:address) %>
        </div>
      </div>
      <div class="form-group form-group-sm">
        <label class="col-sm-2 control-label" for="service_interests">优惠券说明:</label>

        <div class="col-sm-10">
          <%= f.check_box(:status) %>
        </div>
      </div>
      <div class="form-group form-group-sm">
        <label class="col-sm-2 control-label" for="service_interests">优惠券说明:</label>

        <div class="col-sm-10">
          <%= f.check_box(:status) %>
        </div>
      </div>
    </fieldset>
    <%= f.submit('提交') %>
<% end %>
<script>
    $(function () {
                $("#datepicker1").datepicker();
                $("#datepicker2").datepicker();
                $("#coupon_limit_category").change(function () {
                    $("#coupon_limit_ext").empty();
                    $.get($("#coupon_limit_category").val() + "/category", {}, function (data) {
                        var datas = eval(data);
                        $.each(datas, function (i) {
                            $("#coupon_limit_ext").append("<option value='" + datas[i][0] + "'>" + datas[i][1] + "</option>");
                        });
                    });
                });
            }
    );
</script>